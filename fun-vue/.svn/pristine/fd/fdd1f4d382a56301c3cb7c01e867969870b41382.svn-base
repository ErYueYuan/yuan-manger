<template>
  <div class="fun-panel clearfix">
    <div class="f-left  blk" :class="footerval=='index'?'active':''" @click.stop.prevent="goPage('index')">
      <span class="icon one"></span>
      <div class="f0 txt t-center">首页</div>
    </div>
    <div class="f-left  blk" :class="footerval=='sell'?'active':''" @click.stop.prevent="goPage('sell')">
      <span class="icon two"></span>
      <div class="f0 txt t-center">数字行销</div>
    </div>
    <div class="f-left  blk " :class="footerval=='mess'?'active':''" @click.stop.prevent="goPage('mess')">
      <span class="icon three posi2"><b class="flag" v-show="userMess.messConversation && userMess.messConversation!=0">{{userMess.messConversation || 0}}</b></span>
      <div class="f0 txt t-center">会话消息</div>
    </div>
    <div class="f-left  blk " :class="footerval=='deal'?'active':''" @click.stop.prevent="goPage('deal')">
      <span class="icon four"></span>
      <div class="f0 txt t-center">交易服务</div>
    </div>
    <div class="f-left  blk " :class="footerval=='my'?'active':''" @click.stop.prevent="goPage('my')">
      <span class="icon five"></span>
      <div class="f0 txt t-center">我的</div>
    </div>
  </div>
</template>

<script>
  import { mapGetters } from 'vuex'

  export default {
    name: "FooterPanel",
    data () {
      return {
        footerval: ''
      }
    },
    props: {
      footer: String
    },
    computed: {
      ...mapGetters(['userMess']),
    },
    mounted () {
      this.footerval = this.footer || 'index'
    },
    methods: {
      goPage (type) {
        if (type === this.footerval) return
        if (type == 'index') {
          this.$router.push({ path: '/home' })
        } else if (type == 'my') {
          this.$router.push({ path: '/my' })
        } else if (type == 'sell') {
          this.$router.push({ path: '/sellList/1'})
        }else if (type == 'deal') {
          this.$router.push({ path: '/service'})
        } else if (type == 'mess') {
          this.$router.push({ path: '/messList'})
        }
      }
    }
  }
</script>

<style scoped>

</style>
