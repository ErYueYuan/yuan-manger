<template>
  <div>
    <top-panel :topPanel="topPanel"></top-panel>
    <div class="main-container mar2 clearfix ">
      <div class="birth-detail">
        <h3 class="f3 t-left ">{{systemInfo.title}}</h3>
        <h4 class="f2 t-left c222 border-b ">时间：{{modifyDate}}</h4>
        <div class="cont f2 c2" v-html="systemInfo.content"></div>
      </div>
    </div>
  </div>
</template>

<script>
  import { TopPanel } from '@/components/index'
  import * as tool from '@/common/Tool'
  import { api_mess } from '@/api/index'

  export default {
    name: "SystemNewsInfo",
    data () {
      return {
        topPanel: {
          back: true,
          titles: "系统消息",
        },
        id: this.$route.params.id,
        index: this.$route.params.index,
        type: this.$route.params.type,
        modifyDate: '',
        systemInfo: {}
      }
    },
    components: {
      'top-panel': TopPanel,
    },
    created () {
      this.getMessInfo()
    },
    methods: {
      getMessInfo () {
        const _data = {
          _id: this.id,
          _index: this.index,
          _type: this.type
        }
        api_mess.getMessageInfo4LZG(_data).then(data => {
          if (data.status === tool.rtCode.status) {
            this.modifyDate = data.params.messageInfo.createdate
            this.systemInfo = data.params.messageInfo.keyWord
            console.log(this.modifyDate)
          } else {
            tool.toastMessage(data.message, 'error')
          }
        })
      },
    }
  }
</script>

<style scoped>
  .birth-detail{padding: 10px;}
  .birth-detail h3{padding: 5px 0;line-height: 20px;}
  .birth-detail h4{padding: 2px 0 8px;line-height: 18px;}
  .birth-detail .cont{line-height: 25px;padding: 15px 0;}
  .birth-detail .cont.f2{color:#4f4f4f;}
</style>
