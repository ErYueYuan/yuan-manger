<template>
  <div
    class="bg3"
    style=""
  >
    <TopPanel :topPanel="topPanel"></TopPanel>

    <!-- <div class="fun-top-panel bg7 border-b1">
      <span
        class="mess-back "
        @click="goBack"
      >
        <div class="cont"></div>
      </span>
      <span class="title c33 f4 dblock2 t-center ">保单详情</span>
    </div> -->
    <div class="clearfix pass">
      <div
        class="login-box modify clearfix"
        style="padding:0;"
      >
        <section class="login-info-box reg">
          <div style="margin-bottom:5px;">
            <div
              class="pad5-3 bg7 f4"
              style="height:50px;background:#FFFED7;border-bottom:1px solid #ccc;"
            >
              保单基本详情
            </div>
            <div
              class="list pad5-3 bg7"
              v-for="(item,index) in policy"
              :key="index"
            >
              <p class="f4 pad6-2">保单号:<span class="c111">{{item.innercontno}}</span></p>
              <p class="f4 pad6-2">订单号:<span class="c111">{{item.PROPOSALCONTNO}}</span></p>
            </div>
          </div>
          <div style="margin-bottom:5px;">
            <div
              class="pad5-3 bg7 f4"
              style="height:50px;background:#FFFED7;border-bottom:1px solid #ccc;"
            >
              投保人
            </div>
            <div
              class="list pad5-3 bg7"
              v-for="(item,index) in listBnf"
              :key="index"
            >
              <p class="f4 pad6-2">姓名:<span class="c111">{{item.name}}</span></p>
              <p class="f4 pad6-2">性别:<span class="c111">{{item.SEXNAME}}</span></p>
              <p class="f4 pad6-2">证件类型:<span class="c111">{{item.idtypename}}</span></p>
              <p class="f4 pad6-2">证件号:<span class="c111">{{item.IDNO}}</span></p>
              <p class="f4 pad6-2">出生日期:<span class="c111">{{item.birthday}}</span></p>
              <p class="f4 pad6-2">电话:<span class="c111">{{item.appntmobile}}</span></p>
              <p class="f4 pad6-2">电话:<span class="c111">{{item.appntpostaladdress}}</span></p>
              
            </div>
          </div>
          <div style="margin-bottom:5px;">
            <div
              class="pad5-3 bg7 f6"
              style="height:50px;background:#FFFED7;border-bottom:1px solid #ccc;"
            >
              险种信息
            </div>
            <div
              class="list pad5-3 bg7"
              style="border-bottom:1px solid #ccc;"
              v-for="(item,index) in listFcpol"
              :key="index"
            >
              <p class="f4 pad6-2">险种名称:<span class="c111">{{item.RISKNAME}}</span></p>
              <p class="f4 pad6-2">缴费方式:<span class="c111">{{item.PAYINTVNAME}}</span></p>
              <p class="f4 pad6-2">时长:<span class="c111">{{item.PAYINTV}}</span></p>
              <p class="f4 pad6-2">金额:<span class="c111">{{item.AMNT}}</span></p>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>

</template>

<script>
import { api_service } from '@/api/index'
import * as tool from '@/common/Tool'
import { TopPanel } from '@/components/index';
import Vue from 'vue';
import { Col, Row } from 'vant';

Vue.use(Col);
Vue.use(Row);
export default {
  name: 'dealdetails',
  data() {
    return {
      listBnf: [],
      listFcpol: [],
      policy: [],
      topPanel: {
        back: true,
        titles: "保单详情",
      },
    }
  },
  components: {
    TopPanel
  },
  created() {
    this.orderDetails();
  },
  mounted() {
  },
  methods: {
    goBack() {
      this.$router.go(-1);
    },
    orderDetails() {
      let params = this.$route.params
      console.log(params);
      let _data = {
        'agentCode': params.r,
        'innercontno': 'GBD000031299357'
      }
      api_service.orderDetails(_data).then(res => {
        if (res.status == tool.rtCode.status) {
          this.listBnf = res.listBnf
          this.listFcpol = res.listFcpol
          this.policy = res.policy
        }
      })
    }
  },
}
</script>

<style scoped>
.login-box.modify {
  margin: 10px auto;
  margin-top: 0;
}
.pass {
  margin-top: 40px;
}
</style>